/* Loomabelle â€” compact, modern crochet/sewing theme */
:root{
  --cream:#F3ECE2;
  --blue:#74A9BD;
  --gold:#D8A238;
  --terra:#C76033;
  --navy:#0F1530;
  --ink:#3b332b;
  --panel:#fffffffb;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--cream) url('../assets/fabric.svg');
  color:var(--ink);
  font-family:Quicksand,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}

/* ---------- Top bar (small) ---------- */
.topbar{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px; border-bottom:4px double rgba(199,96,51,.25);
  background:linear-gradient(135deg, rgba(116,169,189,.18), rgba(215,162,56,.12));
}
.logo{width:44px; height:44px; border-radius:9px; background:#fff url('../assets/fabric.svg'); object-fit:cover; box-shadow:0 4px 10px rgba(0,0,0,.06);}
.brand{display:flex; flex-direction:column}
.stitched-title{
  font-family:Merienda, system-ui; font-weight:700; font-size:20px; margin:0; color:var(--terra);
  text-shadow:0 1px 0 #f6d8c8, 1px 0 0 #f6d8c8, -1px 0 0 #f6d8c8, 0 -1px 0 #f6d8c8;
}
.subtitle{margin:2px 0 0; font-size:12px; color:#746a5c}

/* ---------- Layout ---------- */
.wrap{display:grid; gap:14px; padding:12px; max-width:1100px; margin:0 auto; grid-template-columns:1fr;}
@media (min-width:980px){ .wrap{grid-template-columns:420px 1fr;} }
.panel{background:var(--panel); border-radius:14px; padding:12px; box-shadow:0 10px 22px rgba(0,0,0,.06), inset 0 0 0 2px rgba(199,96,51,.16);}

/* ---------- Tabs ---------- */
.tabs{display:flex; gap:8px; margin-bottom:10px}
.tab{border:none; border-radius:999px; cursor:pointer; font-weight:700; padding:10px 14px; background:#ffe8cf; color:#7a4b13; box-shadow:inset 0 0 0 2px #e7b17a;}
.tab.active{background:#ffc188}
.tab-body{display:none}
.tab-body.active{display:block}

/* ---------- Dropzone ---------- */
.dropzone{position:relative; display:block; width:100%; border:2px dashed var(--blue); border-radius:12px; background:#fff; box-shadow:inset 0 0 0 3px #e2f2f7; cursor:pointer; overflow:hidden;}
.dropzone input{position:absolute; inset:0; opacity:0; cursor:pointer}
.dz-visual{display:flex; gap:10px; align-items:center; justify-content:center; padding:22px 10px}
.dz-icon{font-size:24px}
.dz-text{font-size:15px; color:#1e3f4b}
.dz-text small{color:#6a8790}

/* ---------- Options ---------- */
.toggle.big{margin:8px 0 2px}
.toggle.big .pill{display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:999px; background:linear-gradient(135deg,#fff,#fffbe8); border:2px dashed var(--gold); color:#52360d; font-weight:700; cursor:pointer;}
.options.hidden{display:none}
.controls .grid{display:grid; grid-template-columns:1fr 1fr; gap:10px; margin:10px 0 6px;}
.controls .row{display:flex; gap:10px; flex-wrap:wrap}
label{display:flex; flex-direction:column; gap:6px; font-size:14px}
input[type="number"], select, input[type="range"]{width:100%; padding:9px 11px; border-radius:10px; border:1px dashed #c69c7c; background:#fff; color:#2b291f;}
.manual small{color:#6a6a6a}
.hidden{display:none!important}

/* ---------- Buttons ---------- */
.actions{margin:12px 0 6px; display:flex; gap:8px; flex-wrap:wrap}
.btn{appearance:none; border:2px dashed var(--terra); background:#fff; color:#6b3f09; padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:700; transition:transform .08s ease;}
.btn:hover{transform:translateY(-1px)}
.btn:disabled{opacity:.45; cursor:not-allowed}
.btn.primary{background:linear-gradient(135deg,#ffd4b7,#ffc188); border-color:#b56d2a}
.btn.ghost{background:#fffdf7; border-color:var(--blue); color:#1a3c47}

/* ---------- Preview ---------- */
.preview h2.stitched{margin:0 0 8px; font-family:Merienda,system-ui; font-weight:700; color:var(--terra); text-shadow:0 1px 0 #ffeedf, 0 -1px 0 #ffeedf, 1px 0 0 #ffeedf, -1px 0 0 #ffeedf;}
.hoop{background:var(--navy); border-radius:14px; padding:10px; position:relative; color:#9fb0d7;}
.hoop::before{content:""; position:absolute; inset:10px; border-radius:18px; border:2px dashed rgba(147,173,231,.45); pointer-events:none;}
.hint{margin:8px 2px 0; color:#bcd0ff}
#preview{width:100%; height:auto; display:block; background:#0c1221; border-radius:10px}

/* ---------- Log ---------- */
.log{margin-top:10px; background:#19203a; color:#e7ebff; border-radius:10px; padding:8px; font-family:ui-monospace, Menlo, Consolas, monospace; font-size:12px; max-height:180px; overflow:auto; box-shadow:inset 0 0 0 2px rgba(116,169,189,.28);}
.log .ok{color:#78f0b6} .log .warn{color:#ffd479} .log .err{color:#ff98a9}

/* ---------- Draw ---------- */
#drawCanvas{background:#fff; border-radius:12px; border:2px dashed var(--blue); box-shadow:inset 0 0 0 3px #e2f2f7; touch-action:none}
.toolbar{display:flex; gap:10px; align-items:center; margin-top:8px}

/* ---------- Footer ---------- */
.foot{padding:16px; text-align:center; color:#7a7466}