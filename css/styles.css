/* Loomabelle â€” Crochet/Sewing Theme */
:root{
  --cream:#F3ECE2;
  --blue:#74A9BD;
  --gold:#D8A238;
  --terra:#C76033;
  --navy:#0F1530;
  --ink:#42392f;
  --panel:#ffffffd8;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--cream) url('../assets/fabric.svg');
  color:var(--ink);
  font-family:Quicksand,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
}

/* Hero */
.hero{
  background: linear-gradient(135deg, rgba(116,169,189,.25), rgba(215,162,56,.15)), url('../assets/needle-stitch.svg') center/200px repeat;
  padding:16px 12px 0;
  border-bottom:6px double rgba(199,96,51,.25);
}
.hero .hero-inner{display:flex; align-items:center; gap:14px; max-width:1200px; margin:0 auto;}
.logo{width:76px; height:76px; border-radius:14px; box-shadow:0 6px 16px rgba(0,0,0,.08); background:#fff url('../assets/fabric.svg'); object-fit:cover;}
.title-wrap{display:flex; flex-direction:column}
.subtitle{margin:4px 2px 12px; color:#7a6f62}

.stitched-title{
  font-family:Merienda, system-ui, sans-serif; font-weight:700; font-size:36px; margin:6px 2px 0; color:var(--terra);
  position:relative; letter-spacing:.5px;
  text-shadow:0 1px 0 #f6d8c8, 0 -1px 0 #f6d8c8, 1px 0 0 #f6d8c8, -1px 0 0 #f6d8c8;
}
.stitched-title::after{
  content:""; position:absolute; left:0; right:0; bottom:-6px; height:2px;
  background:repeating-linear-gradient(90deg,var(--terra) 0 7px,transparent 7px 14px);
  filter:drop-shadow(0 1px 0 #fff);
}
.seam,.seam--foot{height:14px; background:url('../assets/seam.svg') center/auto 14px repeat-x; opacity:.9; margin-top:8px;}
.seam--foot{margin:0}

/* Layout */
.wrap{display:grid; gap:16px; padding:14px; max-width:1200px; margin:12px auto 28px; grid-template-columns:1fr;}
@media (min-width:980px){ .wrap{grid-template-columns:460px 1fr;} }
.panel{background:var(--panel); border-radius:18px; padding:12px; box-shadow:0 12px 26px rgba(0,0,0,.06), inset 0 0 0 2px rgba(199,96,51,.18); backdrop-filter:saturate(120%) blur(2px);}

/* Tabs */
.tabs{display:flex; gap:8px; margin-bottom:10px}
.tab{display:flex; align-items:center; gap:8px; border:none; background:#ffe8cf; color:#7a4b13; padding:10px 14px; border-radius:999px; cursor:pointer; box-shadow:inset 0 0 0 2px #e7b17a; font-weight:700;}
.tab img{width:18px; height:18px}
.tab.active{background:#ffc188}
.tab-body{display:none}
.tab-body.active{display:block}

/* Inputs */
label{display:flex; flex-direction:column; gap:6px; font-size:14px}
input[type="number"], select, input[type="range"]{width:100%; padding:9px 11px; border-radius:12px; border:1px dashed #c69c7c; background:#fff; color:#2b291f;}
.file{display:block; border:2px dashed var(--blue); padding:16px; text-align:center; border-radius:14px; color:#225; cursor:pointer; background:#fff; box-shadow:inset 0 0 0 3px #e2f2f7;}
.file input{display:none}

/* Show/Hide options */
.toggle.big{margin:6px 0 2px}
.toggle.big .pill{display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px; background:linear-gradient(135deg,#fff,#fffbe8); border:2px dashed var(--gold); color:#52360d; font-weight:700;}
.toggle{display:flex; gap:8px; align-items:center}
.options.hidden{display:none}

/* Grouped controls */
.controls .grid{display:grid; grid-template-columns:1fr 1fr; gap:10px; margin:12px 0 6px;}
.controls .row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.hidden{display:none!important}

/* Buttons */
.btn{appearance:none; border:2px dashed var(--terra); background:#fff; color:#6b3f09; padding:10px 14px; border-radius:14px; cursor:pointer; font-weight:700; transition:transform .08s ease, box-shadow .08s ease;}
.btn:hover{transform:translateY(-1px)}
.btn:disabled{opacity:.45; cursor:not-allowed}
.btn.primary{background:linear-gradient(135deg,#ffd4b7,#ffc188); border-color:#b56d2a}
.btn.ghost{background:#fffdf7; border-color:var(--blue); color:#1a3c47}
.actions{margin:12px 0 6px; display:flex; gap:8px; flex-wrap:wrap}

/* Preview */
.preview h2.stitched{margin:0 0 8px; font-family:Merienda,system-ui; font-weight:700; color:var(--terra); text-shadow:0 1px 0 #ffeedf, 0 -1px 0 #ffeedf, 1px 0 0 #ffeedf, -1px 0 0 #ffeedf;}
.hoop{background:var(--navy); border-radius:16px; padding:10px; position:relative; color:#9fb0d7;}
.hoop::before{content:""; position:absolute; inset:10px; border-radius:20px; border:2px dashed rgba(147,173,231,.45); pointer-events:none;}
.hint{margin:8px 2px 0; color:#bcd0ff}
#preview{width:100%; height:auto; display:block; background:#0c1221; border-radius:12px}

/* Log */
.log{margin-top:8px; background:#19203a; color:#e7ebff; border-radius:12px; padding:8px; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:12px; max-height:180px; overflow:auto; white-space:pre-wrap; box-shadow:inset 0 0 0 2px rgba(116,169,189,.28);}
.log .ok{color:#78f0b6} .log .warn{color:#ffd479} .log .err{color:#ff98a9}

/* Draw */
#drawCanvas{background:#fff; border-radius:14px; border:2px dashed var(--blue); touch-action:none; box-shadow:inset 0 0 0 3px #e2f2f7}

/* Footer */
.foot{padding:18px; text-align:center; color:#7a7466}