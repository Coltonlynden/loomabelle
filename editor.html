<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Easbroidery — Editor</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body class="sh">
<header class="nav">
  <a class="brand" href="index.html"><img src="assets/logo.png" class="logo" alt=""><span>EASBROIDERY</span></a>
  <nav class="links">
    <a class="nav-link" href="index.html">Home</a>
    <a class="nav-link" href="features.html">Features</a>
    <a class="nav-link" href="pricing.html">Pricing</a>
  </nav>
</header>

<main class="editor">
  <aside class="steps">
    <div class="step">1. Upload</div>
    <div class="step">2. Select &amp; refine</div>
    <div class="step">3. Text &amp; direction</div>
    <div class="step">4. Stitches &amp; export</div>
  </aside>

  <section class="work">
    <section class="card">
      <h2>Image</h2>
      <div class="row">
        <input id="file" type="file" accept="image/*">
        <button id="btn-autoh" class="chip">Auto highlight</button>
      </div>

      <label class="lbl">Detail</label>
      <input id="detail" type="range" min="0" max="1" step="0.01" value="0.35">

      <div class="viewbar">
        <button id="zout" class="chip">−</button>
        <span id="zlabel" class="chip">100%</span>
        <button id="zin" class="chip">+</button>
        <span class="hint">• Hold Alt and drag to pan.</span>
      </div>

      <div class="editbox">
        <canvas id="imageCanvas"></canvas>
        <canvas id="maskCanvas"></canvas>
        <canvas id="edgesCanvas" class="hide"></canvas>
      </div>
    </section>

    <section class="card">
      <h2>Brush</h2>

      <div class="tabs">
        <button class="tab on" data-mode="mask">Mask</button>
        <button class="tab" data-mode="text">Text</button>
        <button class="tab" data-mode="direction">Direction</button>
      </div>

      <div id="maskOpts">
        <div class="grid2 gap">
          <div>
            <label class="lbl">Size</label>
            <input id="size" type="range" min="4" max="120" value="34">
          </div>
          <div class="btnrow small">
            <button class="chip act" data-tool="paint">Paint</button>
            <button class="chip" data-tool="erase">Erase</button>
            <button class="chip" data-tool="wand">Wand</button>
            <button class="chip" id="undo">Undo</button>
            <button class="chip" id="redo">Redo</button>
            <button class="chip" id="clear">Clear</button>
            <button class="chip" id="fill">Fill</button>
          </div>
        </div>

        <div class="row">
          <label class="sw"><input id="showMask" type="checkbox" checked> <span>Show mask</span></label>
          <label class="sw"><input id="showEdges" type="checkbox"> <span>Show edges</span></label>
        </div>
      </div>

      <div id="textOpts" class="hide">
        <input id="txt" class="input" placeholder="Add text">
        <button id="applyText" class="btn-s">Apply</button>

        <div class="grid3 gap">
          <div>
            <label class="lbl">Curve</label>
            <input id="txtCurve" type="range" min="-1" max="1" step="0.02" value="0">
          </div>
          <div>
            <label class="lbl">Size</label>
            <input id="txtSize" type="range" min="8" max="140" value="40">
          </div>
          <div>
            <label class="lbl">Angle</label>
            <input id="txtAngle" type="range" min="0" max="180" step="1" value="45">
          </div>
        </div>

        <label class="lbl">Pattern</label>
        <select id="txtPattern">
          <option value="fill">Fill (running)</option>
          <option value="outline">Outline</option>
        </select>
        <label class="sw"><input id="showDir" type="checkbox" checked> <span>Show direction overlay</span></label>
      </div>

      <div id="dirOpts" class="hide">
        <div class="grid2 gap">
          <div>
            <label class="lbl">Angle</label>
            <input id="dirAngle" type="range" min="0" max="180" step="1" value="45">
          </div>
          <div>
            <label class="lbl">Spacing</label>
            <input id="dirSpace" type="range" min="3" max="14" step="1" value="6">
          </div>
        </div>
        <p class="hint">Mask regions, then change direction here.</p>
      </div>
    </section>

    <section class="card">
      <h2>Live preview</h2>
      <canvas id="liveCanvas" class="live"></canvas>
    </section>
  </section>
</main>

<div class="dock">
  <label class="sw"><input id="toggleStitch" type="checkbox" checked> <span>Show stitch preview</span></label>
  <button id="btn-generate" class="btn">Generate stitches</button>
  <button id="btn-png" class="chip">PNG</button>
  <button id="btn-svg" class="chip">SVG</button>
  <button id="btn-json" class="chip">Stitches JSON</button>
  <button id="btn-dst" class="chip">DST</button>
</div>

<script src="processing.js"></script>
<script src="script.upload.js"></script>
<script src="script.draw.js"></script>
<script src="script.preview.js"></script>
</body>
</html>