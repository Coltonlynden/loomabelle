:root{
  --bg:#fdebe0; --card:#f6d8c9; --border:#e9c7b7;
  --ink:#5c433a; --muted:#896f64; --accent:#d97f73;
  --chip:#f3c6b8; --chip-ink:#6c4f46; --white:#fff;
  --shadow:0 10px 30px rgba(0,0,0,.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body.shell{margin:0;background:var(--bg);color:var(--ink);font:16px/1.45 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
img{max-width:100%;display:block}
h1,h2{margin:.2rem 0 1rem 0;line-height:1.1}
h1{font-size:clamp(32px,3.4vw,48px);font-weight:800}
h2{font-size:clamp(20px,2.2vw,26px);font-weight:700}
.container{max-width:1100px;margin:0 auto;padding:16px}
.site-header{position:sticky;top:0;background:var(--bg);z-index:50;border-bottom:1px solid var(--border)}
.site-header .brand{display:flex;gap:10px;align-items:center;text-decoration:none;color:var(--ink);font-weight:800;padding:12px}
.site-header .brand img{width:34px;height:34px;border-radius:8px}
.nav{margin-left:auto;display:flex;gap:22px;padding:12px}
.nav a{color:var(--muted);text-decoration:none;padding:8px 2px;border-bottom:2px solid transparent}
.nav a.active{color:var(--ink);border-color:var(--accent)}
.card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:18px;box-shadow:var(--shadow);margin:16px 0}
.btn{border:0;border-radius:16px;padding:.7rem 1rem;background:var(--chip);color:var(--chip-ink);cursor:pointer}
.btn-primary{background:var(--accent);color:#fff}
.chip{border:1px solid var(--border);background:var(--chip);color:var(--chip-ink);border-radius:18px;padding:.35rem .7rem;cursor:pointer}
.chip.toggle.active{background:var(--accent);color:#fff;border-color:var(--accent)}
.input{padding:.55rem .7rem;border-radius:12px;border:1px solid var(--border);background:#fff;min-width:220px}
.muted{color:var(--muted)}
.kbd,kbd{background:#fff;border:1px solid var(--border);border-radius:5px;padding:2px 6px}

.hero{position:relative;overflow:hidden}
.hero .example{margin:18px 0 10px 0}
.hero .inset{position:absolute;right:18px;top:22px;transform:translate(12px,12px)}
.hero .inset img{width:140px;height:140px;border-radius:999px;border:10px solid #fff;box-shadow:var(--shadow)}
@media (max-width:720px){
  .hero .inset{top:10px;right:10px}
  .hero .inset img{width:110px;height:110px;border-width:8px}
}

.site-footer{padding:30px 16px;color:var(--muted);text-align:center}

/* Editor */
.editor .toolbar{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-bottom:12px}
.editor .zoom{display:flex;gap:8px;align-items:center}
#editWrap{position:relative}
#edit{width:100%;max-height:65vh;border-radius:14px;border:1px dashed var(--border);background:#fff}

.brush{display:flex;flex-direction:column;gap:10px;margin-top:10px}
.brush .seg{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.brush .seg .grow{flex:1 1 200px}

.hoop{position:relative;display:flex;justify-content:center;align-items:center;padding:22px;background:#f8e6db;border-radius:22px;border:1px solid var(--border)}
.hoop:before{ /* cute machine hoop frame */
  content:""; position:absolute; inset:18px;
  border:10px solid #2f2f2f; border-radius:28px; background:
  repeating-linear-gradient(0deg,transparent 0 18px,rgba(0,0,0,.03) 18px 36px);
  box-shadow:inset 0 0 0 6px #a7a7a7, 0 6px 18px rgba(0,0,0,.1);
}
.hoop-hardware{
  position:absolute; right:26px; width:22px; height:90px; background:#d3b8ad;
  border:4px solid #8c7e78; border-radius:10px;
}
#preview{width:100%;max-height:70vh;border-radius:14px;background:#fff}

.exportbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin-top:12px}

details.options summary{cursor:pointer;font-weight:700}
details.options .row{display:flex;flex-wrap:wrap;gap:12px;margin-top:10px}
details.options label{display:flex;gap:8px;align-items:center}
details.options select,input{border:1px solid var(--border);border-radius:12px;padding:.45rem .6rem;background:#fff}

@media (max-width:560px){
  .nav{gap:12px}
  .hero .inset{display:none}
  .brush .seg label{flex:1 1 140px}
}