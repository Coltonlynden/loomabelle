/* ===================== Easbroidery Editor Layout ===================== */
.editor-shell {
  --eb-border: rgba(0,0,0,0.12);
  --eb-border-strong: rgba(0,0,0,0.18);
  --eb-bg: #f7efe6;           /* uses your light theme base */
  --eb-panel: #f4eadf;
  --eb-text: #333;
  --eb-accent: #7fa1b5;       /* matches Convert button hue you use */
  background: var(--eb-bg);
  color: var(--eb-text);
  min-height: 100vh;
  display: grid;
  grid-template-rows: auto 1fr auto;
}

/* Top bar */
.eb-topbar {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 12px;
  align-items: center;
  padding: 10px 16px;
  border-bottom: 1px solid var(--eb-border);
  background: var(--eb-panel);
}
.eb-brand { display:flex; align-items:center; gap:10px; text-decoration:none; color:inherit; }
.eb-brand__logo { height:28px; width:auto; }
.eb-brand__name { font-weight:700; font-size:20px; }
.eb-menubar { display:flex; gap:8px; justify-content:center; }
.eb-menu__btn { background:transparent; border:1px solid var(--eb-border); padding:6px 10px; border-radius:8px; }
.eb-btn { border:1px solid var(--eb-border); border-radius:10px; padding:8px 14px; background:#e8ded3; }
.eb-btn--primary { background:#8ea9bb; color:white; border-color:transparent; }
.eb-btn--secondary { background:white; }

/* Main three-pane layout */
.eb-layout {
  display: grid;
  grid-template-columns: 300px 1fr 320px;
  gap: 0;
  min-height: 0;
}

/* Left rail */
.eb-rail {
  border-right: 1px solid var(--eb-border);
  background: var(--eb-panel);
  padding: 12px 10px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.eb-tools { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:6px; }
.eb-tool {
  width:100%;
  text-align:left;
  padding:10px 12px;
  border:1px solid var(--eb-border);
  background:white;
  border-radius:10px;
}
.eb-tool.is-active { outline:2px solid var(--eb-accent); }

/* Loom preview mini */
.eb-loom { margin-top:8px; }
.eb-loom__title { font-size:16px; margin:8px 4px; }
.eb-loom__card {
  border:3px solid #bfb7b0;
  border-radius:22px;
  background: #f6e9de;
  padding:8px;
  display:flex; justify-content:center; align-items:center;
}
#loomPreviewCanvas { width:160px; height:160px; display:block; }
.eb-btn--ghost { background:white; border:1px solid var(--eb-border); margin-top:8px; width:100%; }

/* FAB for mobile */
.eb-fab {
  display:none;
  position:fixed;
  left:14px; bottom:86px;
  padding:10px 14px;
  border-radius:24px;
  background:white;
  border:1px solid var(--eb-border-strong);
  box-shadow: 0 2px 6px rgba(0,0,0,0.12);
}

/* Stage */
.eb-stage { position:relative; overflow:auto; }
.eb-canvas-wrap {
  position:relative;
  margin:16px;
  background:#efe4d9;
  border:1px solid var(--eb-border);
  border-radius:12px;
  padding:16px 16px 16px 16px;
}
#mainCanvas { width:100%; max-width:1200px; height:auto; display:block; margin:0 auto; background:white; border-radius:8px; }

/* Rulers (decorative) */
.eb-ruler { position:absolute; background:transparent; pointer-events:none; }
.eb-ruler--top { left:16px; right:16px; top:8px; height:16px; border-bottom:1px solid var(--eb-border); }
.eb-ruler--left { top:16px; bottom:16px; left:8px; width:16px; border-right:1px solid var(--eb-border); }

/* Right panel */
.eb-context {
  border-left: 1px solid var(--eb-border);
  background: var(--eb-panel);
  padding: 16px;
  overflow:auto;
}

/* Status bar */
.eb-status {
  display:flex; align-items:center; justify-content:space-between;
  gap: 10px;
  padding: 10px 16px;
  border-top:1px solid var(--eb-border);
  background: var(--eb-panel);
}
.eb-status__group { display:flex; gap:22px; }

/* Modal */
.eb-modal { border:none; border-radius:14px; width:min(96vw, 980px); padding:0; }
.eb-modal::backdrop { background: rgba(0,0,0,0.2); }
.eb-modal__head { display:flex; justify-content:space-between; align-items:center; padding:10px 14px; border-bottom:1px solid var(--eb-border); background:var(--eb-panel); }
.eb-modal__body { padding:12px; background:#fff; }
#loomPreviewLarge { width:100%; height:auto; display:block; }

/* Responsive: phone */
@media (max-width: 640px) {
  .eb-layout { grid-template-columns: 1fr; }
  .eb-context { display:none; }
  .eb-rail { position:relative; }
  .eb-loom { display:none; }          /* hide mini preview */
  .eb-fab { display:block; }          /* show Preview button */
  .eb-status { position: sticky; bottom:0; }
}